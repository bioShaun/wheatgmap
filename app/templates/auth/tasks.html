{% extends 'base.html' %} {% block content %}
<h3>Backend task</h3>
(Only latest 5 tasks saved.)
<table
  class="table"
  style="border-bottom:1px solid #e6e6e6; margin-bottom: 50px;"
>
  <tbody>
    {% for task in tasks %}
    <tr>
      <td>
        <a href="/task/result/{{ task['id'] }}/"><b>{{ task['id'] }}</b></a>
      </td>
      <td>{{ task['state'] }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<h3>Upload VCF</h3>
<p><b>Please read the VCF format <a href="{{ url_for('document.dataAnalysis')}}" >REQUIRMENT</a> before upload. VCF is allowed less than 1G.</b></p>
<table  class="table"  style="border-bottom:1px solid #e6e6e6; margin-bottom: 50px;">
  <tbody>
    <tr>
      <td>
        <input id="vcf-file" input name="vcfile" type="file" />
        <div class="progress progress-striped active" style="margin-top: 10px;">
          <div
            class="progress-bar progress-bar-success"
            role="progressbar"
            aria-valuenow="60"
            aria-valuemin="0"
            aria-valuemax="100"
            style="width: 0%;"
          >
            <span class="sr-only">0%</span>
          </div>
        </div>
      </td>
      <td>
        <select id="vcf-type" class="form-control" data-width="20%" style="margin:10px;">
          <option value="WGS">WES</option>
          <option value="WES">WGS</option>
          <option value="RNAseq">RNAseq</option>
        </select>
      </td>
      <td>
        <input
          class="btn btn-default"
          id="vcf-sub"
          type="submit"
          value="Upload"
          style="margin:10px;"
        />
      </td>
    </tr>
  </tbody>
</table>


<h3>Variety Information</h3>
<div class="table-responsive va-info-table">
  <table
    id="table-variety"
    class="table "
    style="border-bottom:1px solid #e6e6e6; border-top:1px solid #e6e6e6;
    margin-bottom: 10px; word-break:break-all;table-layout:fixed;"
  >
    <thead>
      <tr>
        <th>Accession No.</th>
        <th>Variety Name</th>
        <th>Type</th>
        <th>Geographic</th>
        <th>Country</th>
        <th>Province</th>
        <th>Affiliation</th>
        <th>Create Time</th>
        <th>Options</th>
      </tr>
    </thead>
    <tbody>
      {% for va_i in variety_items %}
      <tr>
        <td style=" vertical-align: middle;">TC-Va-{{va_i.id}}</td>
        <td style=" vertical-align: middle;">{{va_i.variety_name}}</td>
        <td style=" vertical-align: middle;">{{va_i.variety_type}}</td>
        <td style=" vertical-align: middle;">{{va_i.geographic}}</td>
        <td style=" vertical-align: middle;">{{va_i.country}}</td>
        <td style=" vertical-align: middle;">{{va_i.province}}</td>
        <td style=" vertical-align: middle;">{{va_i.affiliation}}</td>
        <td style=" vertical-align: middle;">{{va_i.create_time}}</td>
        <td>
          <a href="{{ url_for('variety.detail', variety_id=va_i.id) }}">
            <button class="btn btn-info btn-sm">Detail</button>
          </a>
          <a href="{{ url_for('variety.update', variety_id=va_i.id) }}">
            <button class="btn btn-warning btn-sm">Edit</button>
          </a>
          <button
            id="{{ url_for('variety.remove', variety_id=va_i.id) }}"
            class="btn btn-danger btn-sm delete-va"
            va-name="{{va_i.variety_name}}"
          >
            Delete
          </button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <a href="{{ url_for('variety.create') }}">
    <button class="btn btn-primary">Add New Variety</button>
    <!-- <input class="btn btn-primary" value="Add New Variety" /> -->
  </a>
</div>

{% endblock %} {% block js %}
<script src="https://unpkg.com/bootstrap-table@1.14.2/dist/bootstrap-table.min.js"></script>
<script src="{{ url_for('static', filename='js/utils/account.js') }}"></script>
{% endblock %}
