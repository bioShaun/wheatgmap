{% extends 'base.html' %}
{% block content %}
<div class="row">
  <h2>Gene Mapping Via BSA(Bulked Segregant Analysis)</h2>
  <div class="panel-heading">
    <p>1. Wild Bulk and Mutant Bulk are required.</p>
    <p>2. Wild Parent and Mutant Parent are suggested if available.</p>
    <p>3. Background could help you filter out some false positive variants, but you should be much careful the genetic
      background of sample you selected.</p>
    <h3 class="panel-title">Please login and upload your vcf file if you not find the sample you want in the boxes
      below.</h3>
  </div></br>



  <div class="row">

    {% if pri_samples %}
    <div class="col-xs-3">
      <h3 class="panel-title">My samples</h3>
      <select name="from[]" id="multi_d" class="form-control multi_d" size="67" multiple="multiple">
        {% for sample in pri_samples %}
        <option value="private">{{ sample }}</option>
        {% endfor %}
      </select>
    </div>
    {% endif %}

    {% if pub_samples %}
    <div class="col-xs-3">
      <h3 class="panel-title">Public samples</h3>
      <select name="from[]" id="multi_d2" class="form-control multi_d" size="67" multiple="multiple">
        {% for sample in pub_samples %}
        <option value="public">{{ sample }}</option>
        {% endfor %}
      </select>
    </div>
    {% endif %}


    <div class="col-xs-2">
      <button type="button" id="multi_d_rightAll" class="btn btn-default btn-block" style="margin-top: 20px;"><i
          class="glyphicon glyphicon-forward"></i>&nbsp;ADD ALL</button>
      <button type="button" id="multi_d_rightSelected" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-right"></i>&nbsp;ADD</button>
      <button type="button" id="multi_d_leftSelected" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-left"></i>&nbsp;REMOVE</button>
      <button type="button" id="multi_d_leftAll" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-backward"></i>&nbsp;REMOVE ALL</button>

      <hr style="margin: 40px 0 60px;" />

      <button type="button" id="multi_d_rightAll_2" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-forward"></i>&nbsp;ADD ALL</button>
      <button type="button" id="multi_d_rightSelected_2" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-right"></i>&nbsp;ADD</button>
      <button type="button" id="multi_d_leftSelected_2" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-left"></i>&nbsp;REMOVE</button>
      <button type="button" id="multi_d_leftAll_2" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-backward"></i>&nbsp;REMOVE ALL</button>

      <hr style="margin: 40px 0 60px;" />

      <button type="button" id="multi_d_rightAll_3" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-forward"></i>&nbsp;ADD ALL</button>
      <button type="button" id="multi_d_rightSelected_3" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-right"></i>&nbsp;ADD</button>
      <button type="button" id="multi_d_leftSelected_3" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-left"></i>&nbsp;REMOVE</button>
      <button type="button" id="multi_d_leftAll_3" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-backward"></i>&nbsp;REMOVE ALL</button>

      <hr style="margin: 40px 0 60px;" />

      <button type="button" id="multi_d_rightAll_4" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-forward"></i>&nbsp;ADD ALL</button>
      <button type="button" id="multi_d_rightSelected_4" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-right"></i>&nbsp;ADD</button>
      <button type="button" id="multi_d_leftSelected_4" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-left"></i>&nbsp;REMOVE</button>
      <button type="button" id="multi_d_leftAll_4" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-backward"></i>&nbsp;REMOVE ALL</button>
      <hr style="margin: 40px 0 60px;" />

      <button type="button" id="multi_d_rightAll_5" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-forward"></i>&nbsp;ADD ALL</button>
      <button type="button" id="multi_d_rightSelected_5" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-right"></i>&nbsp;ADD</button>
      <button type="button" id="multi_d_leftSelected_5" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-chevron-left"></i>&nbsp;REMOVE</button>
      <button type="button" id="multi_d_leftAll_5" class="btn btn-default btn-block"><i
          class="glyphicon glyphicon-backward"></i>&nbsp;REMOVE ALL</button>
    </div>

    <div class="col-xs-4">
      <b>Wild Bulk</b>
      <select name="to[]" id="multi_d_to" class="form-control" size="8" multiple="multiple"></select>

      <br />
      <hr /><br />

      <b>Mutant Bulk</b>
      <select name="to_2[]" id="multi_d_to_2" class="form-control" size="8" multiple="multiple"></select>
      <br />
      <hr /><br />

      <b>Wild parent</b>
      <select name="to_3[]" id="multi_d_to_3" class="form-control" size="8" multiple="multiple"></select>
      <br />
      <hr /><br />

      <b>Mutant parent</b>
      <select name="to_4[]" id="multi_d_to_4" class="form-control" size="8" multiple="multiple"></select>
      <br />
      <hr /><br />

      <b>Background</b>
      <select name="to_5[]" id="multi_d_to_5" class="form-control" size="8" multiple="multiple"></select>
    </div>
  </div>
  <br /><br />
  <h3 class="panel-title"><b>Optional parameters:</b></h3>
  <br>
  <form>
    <div class="form-group row">
      <label for="w-snp-num" class="col-xs-2" style="font-weight:normal;">SNP window size</label>
      <div class="col-xs-10">
        <input id="w-snp-num" type="input" value="" placeholder="20"></input></td>
      </div>
    </div>

    <div class="form-group row">
      <label for="s-snp-num" class="col-xs-2" style="font-weight:normal;">SNP step size</label>
      <div class="col-xs-10">
        <input id="s-snp-num" type="input" value="" placeholder="5"></input>
      </div>
    </div>
  </form>

  <div class="panel-body">
    <input class="btn btn-primary btn-sm" id="submit" type="submit" value="Submit">
  </div>

</div>
{% endblock %}

{% block js %}
<script src="{{ url_for('static', filename='js/utils/bsa.js') }}"></script>
{% endblock %}
