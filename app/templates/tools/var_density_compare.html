{% extends 'base.html' %}
{% block css %}
<link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">
<link href="{{ url_for('static',filename='css/var_density.css') }}" rel="stylesheet">
{% endblock %}
{% block content %}
<h2>Variant Density</h2>

<div class="panel-heading">
  <h3 class="panel-title">This tool will help you compare variant density between samples.</h3></br>
  <h3 class="panel-title">If you do not found the sample you want, you may need login and upload it.</h3>
</br>
</div>


<h4>Select a Samples (Most 4 samples are allowed):</h4>
<div class="row">
    {% if pri_samples %}
    <div class="col-xs-3">        
        <h3 class="panel-title">My samples</h3>
        <select name="from[]" id="multi_d" class="form-control multi_d" size="20" multiple="multiple">
            {% for sample in pri_samples %}
                <option value="private">{{ sample }}</option>
            {% endfor %}
        </select>
    </div>
    {% endif %}

    {% if pub_samples %}
    <div class="col-xs-3">
        <h3 class="panel-title">Public samples</h3>
        <select name="from[]" id="multi_d2" class="form-control multi_d" size="20" multiple="multiple">
            {% for sample in pub_samples %}
                <option value="public">{{ sample }}</option>
            {% endfor %}
        </select>
    </div>
    {% endif %}

    <div class="col-xs-2">
        <button type="button" id="multi_d_rightAll" class="btn btn-default btn-block" style="margin-top: 20px;"><i class="glyphicon glyphicon-forward"></i>&nbsp;ADD ALL</button>
        <button type="button" id="multi_d_rightSelected" class="btn btn-default btn-block"><i class="glyphicon glyphicon-chevron-right"></i>&nbsp;ADD</button>
        <button type="button" id="multi_d_leftSelected" class="btn btn-default btn-block"><i class="glyphicon glyphicon-chevron-left"></i>&nbsp;REMOVE</button>
        <button type="button" id="multi_d_leftAll" class="btn btn-default btn-block"><i class="glyphicon glyphicon-backward"></i>&nbsp;REMOVE ALL</button>
    </div>
    <div class="col-xs-4">
        <h3 class="panel-title">Selected samples</h3>
        <select name="to[]" id="multi_d_to" class="form-control" size="10" multiple="multiple"></select>
    </div>
</div>

<div style="margin-top: 10px;">    
    <h3 class="panel-title"><b>Optional parameters:</b></h3>
    <br>
    <div class="form-group row">
        <label for="var-density-window" class="col-xs-2" style="font-weight:normal;">Window</label>
        <div class="col-xs-7">
            <input id="var-density-window" type="input" value="" placeholder="1000000"></input></td>
        </div>
    </div>
    <div class="form-group row">
        <label for="var-density-depth" class="col-xs-2" style="font-weight:normal;">Minimal Read Depth</label>
        <div class="col-xs-7">
            <input id="var-density-depth" type="input" value="" placeholder="1"></input>
        </div>            
    </div>    

    <div class="form-group row">
        <label for="var-alt-freq" class="col-xs-2" style="font-weight:normal;">Alt Allele Frequency ></label>
        <div class="col-xs-7">
            <input id="var-alt-freq" type="input" value="" placeholder="0"></input>
        </div>            
    </div>        
</div>

<br>
<input class="btn btn-primary btn-sm"  id="submit" type="submit"  value="Submit"> 
<hr/>
<!-- add loading hint -->
<div id="query_hint"></div>
<div id="results"></div>
{% endblock %}
{% block js %}
<script src="{{ url_for('static', filename='js/utils/var_density.js') }}"></script>
{% endblock %}